# KNOWLEDGE_GRAPH Validation Quick Reference

This is a condensed reference for developers. Full specification: [CONTRACT.yaml](CONTRACT.yaml)

---

## ‚úÖ Valid Relation Examples

```yaml
# Ontological derivation
- relation: derives_from
  target: "CORE/axioms.yaml#ban_of_absolute_identity"

# Operator usage
- relation: uses_operator
  target: "CORE/operators.yaml#diss"

# Structural isomorphism
- relation: isomorphic_to
  target: "ARTICLES/M/quantum_mechanics.yaml#decoherence"

# Onto-epistemic projection
- relation: maps_to
  target: "CORE/operators.yaml#fix"

# Empirical prediction
- relation: predicts
  target: "entropy_increase"
```

---

## ‚ùå Common Validation Errors

### Error 1: Unknown relation
```yaml
- relation: based_on  # ‚ùå Not in CORE/relations.yaml
  target: "..."
```
**Fix:** Use `derives_from` instead

### Error 2: Cross-domain violation
```yaml
- relation: derives_from  # ‚ùå Cannot cross Monos ‚Üí Logos
  target: "CORE/operators.yaml#fix"  # (fix is Logos-only)
```
**Fix:** Use `maps_to` for cross-domain relations

### Error 3: Invalid operator composition
```yaml
- relation: composes_with
  source: "fix"
  target: "diff"  # ‚ùå Forbidden (Logos cannot generate Monos)
```
**Fix:** Only use allowed sequences from `CORE/operators.yaml#composition_constraints`

### Error 4: Type mismatch
```yaml
- relation: predicts  # domain: [model, article_spec]
  source: "CORE/axioms.yaml#..."  # ‚ùå axiom not in domain
```
**Fix:** Check domain/range in `CORE/relations.yaml`

---

## üîç Validation Checklist

Before committing an article with `semantic_relations`:

- [ ] All relations exist in `CORE/relations.yaml`
- [ ] Source entity type is in relation's `domain`
- [ ] Target entity type is in relation's `range`
- [ ] If crossing Monos/Logos, using `maps_to` only
- [ ] If composing operators, sequence is in `allowed_sequences`
- [ ] No entity has `contradicts` relation to itself

---

## üõ†Ô∏è Manual Validation (until automation)

```bash
# Check if relation exists
grep "relation_name:" CORE/relations.yaml

# Check domain/range
yq '.relations.relation_name.domain' CORE/relations.yaml
yq '.relations.relation_name.range' CORE/relations.yaml

# Check operator composition
yq '.composition_constraints.allowed_sequences' CORE/operators.yaml
```

---

## üìä Relation Types by Category

### Primary (from axiom)
- `derives_from` ‚Äî logical/ontological dependence
- `isomorphic_to` ‚Äî structural equivalence

### Operator (from CMI)
- `uses_operator` ‚Äî instantiation of operator
- `composes_with` ‚Äî sequential composition

### Epistemological (Monos ‚Üî Logos)
- `defines` ‚Äî canonical formalization
- `maps_to` ‚Äî **ONLY cross-domain relation**
- `refines` ‚Äî precision increase

### Polemical
- `contradicts` ‚Äî framework incompatibility

### Empirical (falsifiability)
- `predicts` ‚Äî observable outcome
- `explains` ‚Äî mechanistic account

---

## üö® Critical Rules

1. **Only `maps_to` crosses Monos/Logos boundary**
2. **Operator sequences must be in `allowed_sequences`**
3. **All relations must be in `CORE/relations.yaml`**
4. **No manual editing of `global_relations.jsonld`**

---

For complete semantics of each relation, see `CORE/relations.yaml`
